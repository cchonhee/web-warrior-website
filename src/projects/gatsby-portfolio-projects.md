---
title: 포트폴리오 프로젝트들
stack: Gatsby(React & GraphQL) & Netlify
slug: the-gatsby-portfolio-Projects
date: 2021-04-15T00:00:00+00:00
thumb: ../images/thumbs/gatsby.png
featuredImg: ../images/featured/gatsby-banner.png
site: gracious-booth-515bdd.netlify.app
---

### Gatsby & GraphiQL

Gatsby는 Static Site Generator(SSR)로 널리 알려져 있다. React와 GraphiQL의 조합을 사용한다. 스스로 Modern Site Generator라고 부른다.

먼저 SSR은 Vue나 React 같은 Single Page Application(SPA)이 가진 단점을 극복하기 위해 사용된다. SPA는 브라우저가 서버에 처음 접속하면, 서버로부터 텅 빈 HTML 파일을 JavaScript 꾸러미와 함께 뭉텅이로 받는다. 그 후로는 서버에 접속할 기회를 최소화하면서 모든 일을 브라우저가 처리하게 한다. 서버로의 접속이 최소화 되면서 처음 서버로부터 파일을 받고 난 이후부터는 엄청 빠른 사용자 경험을 제공한다. 이것이 SPA의 장점이다. 하지만 처음 자료를 받는 과정에서 사용자들은 어쩔 수 없이 기다려야만 한다. 비록 몇 초의 시간이지만 사용자들에겐 영원 같이 느껴지기도 한다. 이 문제를 해결할 수는 없을까?

Php나 Node.js와 같은 것을 사용하면, 브라우저가 처음 요청했을 때 한꺼번에 뭉텅이로 던져주지 않아도 된다. 따라서 처음에 오래 기다리지 않아도 된다. 브라우저로부터 요청이 들어 올 때마다 필요한 페이지를 그 자리에서 **'만들어'** 보내주면 된다. 요청이 들어 왔을 때 즉석에서 만들어 주다 보니 이것을 Server Side Rendering이라고 부른다. 해석하면 **"서버 쪽에서 만들어 보여준다"** 정도의 의미이다. 하지만, 브라우저가 요청할 때 마다 서버가 즉석에서 만들어 주다 보니 매번 **'조금씩'** 기다려야 한다. 기다리는 짜증을 몰아서 경험하는 것이 아니라, 잘게 나누어 경험하는 셈이다. 무엇이 나은지는 모르겠다. 하지만 기다림이란, 몰아서든 아니면 나누어서든, 짜증나는 것은 마찬가지이다.

Gatsby는 이 짜증이 싫었던 모양이다. 개발자가 열심히 만든 프로그램을 온라인 상에 올려 모두가 볼 수 있게 하는 과정을 Deploy라고 부른다. 그 전까지는 개발자의 컴퓨터 안에만 존재하고, 그 누구도 볼 수가 없다. 개발자가 열심히 짠 코드는 기계인 컴퓨터는 이해를 하지 못한다. 그래서 번역을 해 주어야 한다. 그 과정을 Compile이라고 한다. 번역이 끝나면 온라인 상에다 올려 사람들이 볼 수 있도록 하나의 번듯한 상품을 만들어 내야 한다. 이 과정이 Build이다. 이렇게 상품이 만들어지면 세상에 배포(Deploy)한다. Gatsby는 사이트에 필요한 모든 HTML 페이지들을 이 중 Build 과정에서 만들어 버린다. 그래서 세상에 나왔을 때는 이미 완전한 모습을 하고 있게 된다. 브라우저가 서버에 그 중 한 페이지를 요청하면 바로 보내 주면 된다. Php처럼 손님의 주문이 들어 오면 그 자리에서 만들고 있는 '주접'을 떨지 않아도 되는 것이다. 기다림이 없으니 손님들이 매우 만족해 한다.

게다가 Gatsby는 GraphiQL이라는 것을 사용하는데, 이것을 통해 아주 다양한 종류의 data들을 가져다가 사용할 수가 있다. Wordpress의 블로그 포스트 data를 가져 올 수도 있고, Shopify의 상품 data를 가져다 쓸 수 있다. MongoDB의 data도 물론이다. 번듯한 상품으로 만든는 Build 과정에서 Gatsby는 그 모든 data를 가져다 HTML에 채워 넣는다. 다양한 data 혹은 content들을 GraphiQL이라는 도구를 사용해 모두 으깨어 집어 넣기 때문에 이 행위를 "Content Mesh"라고 부른다.
